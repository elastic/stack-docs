[[air-gapped-install]]
== Installing in an air-gapped environment

Some components of the {stack} require additional configuration and local dependencies in order to deploy in environments without internet access. This guide gives an overview of this setup scenario and helps bridge together existing documentation for individual parts of the stack.

* <<air-gapped-self-managed-linux>>
** <<air-gapped-elasticsearch>>
** <<air-gapped-kibana>>
** <<air-gapped-beats>>
** <<air-gapped-logstash>>
** <<air-gapped-elastic-agent>>
** <<air-gapped-fleet>>
** <<air-gapped-elastic-apm>>
** <<air-gapped-elastic-maps-service>>
** <<air-gapped-enterprise-search>>
** <<air-gapped-elastic-package-registry>>
** <<air-gapped-elastic-artifact-registry>>
** <<air-gapped-elastic-endpoint-artifact-repository>>

// force line break

* <<air-gapped-kubernetes-and-open-shift>>
** <<air-gapped-k8s-os-elastic-kubernetes-operator>>
** <<air-gapped-k8s-os-elastic-package-registry>>
** <<air-gapped-k8s-os-elastic-artifact-registry>>
** <<air-gapped-k8s-os-elastic-endpoint-artifact-repository>>
** <<air-gapped-k8s-os-ironbank-secure-images>>

// force line break

* <<air-gapped-elastic-package-registry-example>>
* <<air-gapped-elastic-artifact-registry-example>>
* <<air-gapped-epr-kubernetes-example>>
* <<air-gapped-agent-integration-guide>>
** <<air-gapped-agent-integration-terminology>>
** <<air-gapped-agent-integration-configure>>
*** <<air-gapped-agent-integration-configure-kibana>>
*** <<air-gapped-agent-integration-configure-yml>>
*** <<air-gapped-agent-integration-configure-fleet-api>>

[discrete]
[[air-gapped-self-managed-linux]]
=== 1. Self-Managed Install (Linux)

**TBD Intro text**

[discrete]
[[air-gapped-elasticsearch]]
=== 1.1. {es}

Air-gapped install of Elasticsearch is fairly straightforward, as this component does not have any default dependencies on other services. Detailed install & configuration guides are available in the {es} {ref}/install-elasticsearch.html[official install docs].

[discrete]
[[air-gapped-kibana]]
=== 1.2. {kib}

tbd

[discrete]
[[air-gapped-beats]]
=== 1.3. {beats}

tbd

[discrete]
[[air-gapped-logstash]]
=== 1.4. {ls}

tbd

[discrete]
[[air-gapped-elastic-agent]]
=== 1.5. {agent}

tbd

[discrete]
[[air-gapped-fleet]]
=== 1.6. {fleet}

tbd

[discrete]
[[air-gapped-elastic-apm]]
===  1.7. Elastic APM

tbd

[discrete]
[[air-gapped-elastic-maps-service]]
=== 1.8. {ems}

tbd

[discrete]
[[air-gapped-enterprise-search]]
=== 1.9. {ents}

tbd

[discrete]
[[air-gapped-elastic-package-registry]]
=== 1.10. {package-registry}

tbd

[discrete]
[[air-gapped-elastic-artifact-registry]]
=== 1.11. Elastic Artifact Registry

tbd

[discrete]
[[air-gapped-elastic-endpoint-artifact-repository]]
=== 1.12. Elastic Endpoint Artifact Repository

[discrete]
[[air-gapped-kubernetes-and-open-shift]]
=== 2. Kubernetes & OpenShift Install

Setting up air-gapped kubernetes/openshift installs of the {stack} has some unique concerns, but the general dependencies are the same as in the self-managed install case on a regular Linux machine.


[discrete]
[[air-gapped-k8s-os-elastic-kubernetes-operator]]
=== 2.1. Elastic Kubernetes Operator (ECK)

tbd

[discrete]
[[air-gapped-k8s-os-elastic-package-registry]]
=== 2.2. Elastic Package Registry

tbd

[discrete]
[[air-gapped-k8s-os-elastic-artifact-registry]]
=== 2.3. Elastic Artifact Registry

tbd

[discrete]
[[air-gapped-k8s-os-elastic-endpoint-artifact-repository]]
=== 2.4. Elastic Endpoint Artifact Repository

tbd

[discrete]
[[air-gapped-k8s-os-ironbank-secure-images]]
=== 2.5. Ironbank Secure Images for Elastic

tbd

[discrete]
[[air-gapped-elastic-package-registry-example]]
=== Appendix A - {package-registry}

tbd

[discrete]
[[air-gapped-elastic-artifact-registry-example]]
=== Appendix B - Elastic Artifact Registry

tbd

[discrete]
[[air-gapped-epr-kubernetes-example]]
=== Appendix C - EPR Kubernetes Deployment

[discrete]
[[air-gapped-agent-integration-guide]]
=== Appendix D - Agent Integration Guide

tbd

[discrete]
[[air-gapped-agent-integration-terminology]]
=== D.1. Terminology

tbd

[discrete]
[[air-gapped-agent-integration-configure]]
=== D.2. How to configure

tbd

[discrete]
[[air-gapped-agent-integration-configure-kibana]]
=== D.2.1. Using {kib} UI

tbd

[discrete]
[[air-gapped-agent-integration-configure-yml]]
=== D.2.2. Using `kibana.yml` config file

tbd

[discrete]
[[air-gapped-agent-integration-configure-fleet-api]]
=== D.2.3. Using {kib} {fleet} API

tbd


